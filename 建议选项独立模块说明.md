# 建议选项独立模块功能说明

## ✅ 功能已实现

建议选项现在会作为独立的模块生成！选择建议选项后，会生成对应的独立模块，可以在"在线检验"中单独查看和检验。

## 🎯 功能说明

### 建议选项 → 独立模块

当你勾选建议选项时，系统会为每个选项生成一个独立的模块：

| 建议选项 | 生成的模块名 | 用例数量 |
|---------|------------|---------|
| ☑ 全局页面 | 全局页面 | 7个用例 |
| ☑ 场景流程 | 场景流程 | 7个用例 |
| ☑ 异常场景 | 异常场景 | 14个用例 |
| ☑ 上下游验证 | 上下游验证 | 11个用例 |

### 模块内容

#### 全局页面模块（7个用例）
1. 页面头部 - Logo、导航菜单、用户信息
2. 页面底部 - 版权信息、链接
3. 侧边导航栏 - 菜单项、展开/收起状态
4. 面包屑导航 - 层级显示、点击跳转
5. 全局提示组件 - Toast、Message、Notification
6. 全局加载状态 - Loading、骨架屏
7. 响应式布局 - 不同屏幕尺寸表现

#### 场景流程模块（7个用例）
1. 完整操作流程 - 从进入到完成目标
2. 多步骤表单 - 步骤指示器、上一步/下一步
3. 向导式流程 - 引导提示、进度展示
4. 数据提交流程 - 填写→预览→确认→提交
5. 审批流程 - 提交→审核→通过/驳回
6. 搜索筛选流程 - 输入→搜索→结果→详情
7. 状态流转 - 草稿→待审核→已发布

#### 异常场景模块（14个用例）
1. 必填项验证 - 未填写提示
2. 格式验证 - 邮箱、手机号等格式
3. 长度限制 - 超出长度处理
4. 特殊字符处理 - 特殊字符验证
5. 网络超时 - 超时处理
6. 网络断开 - 断网处理
7. 服务器错误 - 500、502错误
8. 权限不足 - 无权限访问
9. 登录过期 - Token失效
10. 空数据状态 - 无数据显示
11. 数据加载失败 - 加载失败处理
12. 并发操作冲突 - 多人编辑冲突
13. 重复提交 - 防重复提交
14. 极限数据量 - 大数据量处理

#### 上下游验证模块（11个用例）
1. 页面间参数传递 - 参数正确传递
2. 数据回显 - 编辑页数据回显
3. 数据同步 - 操作后数据更新
4. 列表与详情一致性 - 数据一致
5. 编辑前后一致性 - 编辑正确更新
6. 缓存处理 - 缓存更新和失效
7. 消息通知 - 操作后通知
8. 关联数据更新 - 关联数据同步
9. 接口请求参数 - 参数正确性
10. 接口响应处理 - 响应数据处理
11. 跨页面影响 - 操作影响范围

## 📊 用例数量统计

### 场景1: 只选择识别的模块（不选建议选项）
```
假设识别到2个模块：
- 用户登录页面: 8个用例
- 首页: 8个用例
总计: 16个用例
```

### 场景2: 选择识别的模块 + 全部建议选项
```
识别的模块:
- 用户登录页面: 8个用例
- 首页: 8个用例

建议选项模块:
- 全局页面: 7个用例
- 场景流程: 7个用例
- 异常场景: 14个用例
- 上下游验证: 11个用例

总计: 55个用例
```

### 场景3: 只选择建议选项（不选识别的模块）
```
建议选项模块:
- 全局页面: 7个用例
- 场景流程: 7个用例
- 异常场景: 14个用例
- 上下游验证: 11个用例

总计: 39个用例
```

## 🚀 使用方法

### 步骤1: 上传文档并识别模块
1. 上传需求文档
2. 点击"模块/页面识别"
3. 系统识别出文档中的模块

### 步骤2: 选择模块和建议选项
**选项A**: 只选择识别的模块
- 勾选需要的模块
- 不勾选建议选项
- 生成基础用例

**选项B**: 只选择建议选项
- 不勾选识别的模块
- 勾选需要的建议选项
- 生成建议选项模块的用例

**选项C**: 同时选择（推荐）
- 勾选需要的模块
- 勾选需要的建议选项
- 生成完整的用例集

### 步骤3: 生成用例
点击"生成UI走查用例"按钮

### 步骤4: 查看结果
切换到"生成结果"标签页，查看生成的用例

### 步骤5: 在线检验
切换到"在线检验"标签页，可以看到：
- 识别的模块（如：用户登录页面、首页）
- 建议选项模块（如：全局页面、场景流程、异常场景、上下游验证）

可以在不同模块之间切换，逐个进行检验。

## 💡 使用建议

### 建议1: 全面检验
**适用**: 重要功能，需要全面覆盖
```
✅ 勾选所有识别的模块
✅ 勾选全部4个建议选项
结果: 生成最全面的用例集
```

### 建议2: 快速检验
**适用**: 时间紧张，只检验核心功能
```
✅ 勾选核心模块（2-3个）
❌ 不勾选建议选项
结果: 生成基础用例，快速完成
```

### 建议3: 专项检验
**适用**: 针对特定问题进行检验

**示例1**: 检验全局组件和异常处理
```
❌ 不勾选识别的模块
✅ 勾选：全局页面 + 异常场景
结果: 专注检验全局组件和错误处理
```

**示例2**: 检验业务流程和数据流转
```
✅ 勾选核心业务模块
✅ 勾选：场景流程 + 上下游验证
结果: 专注检验业务逻辑和数据交互
```

### 建议4: 分阶段检验
**适用**: 大型项目，分多次检验

**第一阶段**: 基础功能
```
✅ 勾选所有识别的模块
❌ 不勾选建议选项
```

**第二阶段**: 全局和流程
```
❌ 不勾选识别的模块
✅ 勾选：全局页面 + 场景流程
```

**第三阶段**: 异常和验证
```
❌ 不勾选识别的模块
✅ 勾选：异常场景 + 上下游验证
```

## 🎨 在线检验界面

### 模块切换
```
🔄 选择模块
( ) 用户登录页面  ( ) 首页  (●) 全局页面  ( ) 场景流程  ( ) 异常场景  ( ) 上下游验证
```

### 模块统计
```
📋 全局页面
┌─────────┬─────────┬─────────┬─────────┐
│模块用例数│ 已检验  │  通过   │ 通过率  │
│   7     │   5     │   4     │  80.0%  │
└─────────┴─────────┴─────────┴─────────┘
```

### 用例列表
```
📝 用例列表

🟢 UI-TC017 🔴 页面头部                    [通过 ▼]
设计原则: 视觉一致性原则
检查项: 检查页面头部Logo、导航菜单、用户信息等全局元素的样式和布局
预期结果: 头部高度64px，Logo尺寸120x32px，导航菜单字号14px
─────────────────────────────────────────────────────────

⚪ UI-TC018 🟡 页面底部                    [待检验 ▼]
设计原则: 视觉一致性原则
检查项: 检查页面底部版权信息、链接、联系方式等全局元素
预期结果: 底部高度48px，文字颜色#999999，字号12px
─────────────────────────────────────────────────────────
```

## ✅ 验证方法

### 方法1: 查看生成结果
生成完成后，查看提示信息：
```
✅ 生成完成！共生成 55 个用例，涉及 6 个模块
```

如果选择了建议选项，模块数量会包含建议选项模块。

### 方法2: 查看CSV文件
打开生成的CSV文件，查看"页面/模块"列：
- 应该包含识别的模块（如：用户登录页面、首页）
- 应该包含建议选项模块（如：全局页面、场景流程）

### 方法3: 在线检验
切换到"在线检验"标签页，查看模块切换区域：
- 应该能看到所有识别的模块
- 应该能看到所有选中的建议选项模块

### 方法4: 运行测试
```bash
python test_category_modules.py
```

应该看到：
```
总共生成 39 个用例

各模块用例数量:
  全局页面: 7 个用例
  场景流程: 7 个用例
  异常场景: 14 个用例
  上下游验证: 11 个用例
```

## 🎉 开始使用

1. 打开应用：http://localhost:8501
2. 上传文档并识别模块
3. **勾选需要的模块和建议选项**
4. 生成用例
5. 切换到"在线检验"查看所有模块
6. 逐个模块进行检验

---

**建议选项现在会作为独立模块生成！** 🚀

**提示**: 
- 建议选项模块的用例更加通用和全面
- 可以单独选择建议选项，不选择识别的模块
- 在"在线检验"中可以方便地在不同模块间切换

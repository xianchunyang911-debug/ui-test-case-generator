# 在线检验功能演示

## 🎉 新功能上线

在线检验功能已经成功集成到UI走查用例生成助手中！

## ✨ 功能亮点

### 1. 三个标签页

```
┌─────────────┬─────────────┬─────────────┐
│ 📤 上传文档  │ 📊 生成结果  │ ✅ 在线检验  │
└─────────────┴─────────────┴─────────────┘
```

- **上传文档**: 上传需求文档，识别模块，生成用例
- **生成结果**: 查看生成的用例，下载CSV文件
- **在线检验**: 在线进行UI走查检验，标记状态

### 2. 模块切换

```
🔄 选择模块
( ) 用户登录页面  (●) 首页  ( ) 用户管理页面  ( ) 数据报表页面
```

- 单选按钮切换模块
- 水平排列，一目了然
- 自动显示当前模块的用例

### 3. 实时统计

```
📊 整体检验进度
┌─────────┬─────────┬─────────┬─────────┬─────────┐
│ 总用例数 │ 已检验  │  通过   │ 不通过  │ 通过率  │
│   50    │   30    │   25    │    5    │  83.3%  │
└─────────┴─────────┴─────────┴─────────┴─────────┘

📋 首页
┌─────────┬─────────┬─────────┬─────────┐
│模块用例数│ 已检验  │  通过   │ 通过率  │
│   12    │    8    │    7    │  87.5%  │
└─────────┴─────────┴─────────┴─────────┘
```

### 4. 状态标记

```
🟢 UI-TC001 🔴 页面标题                    [通过 ▼]
⚪ UI-TC002 🟡 按钮状态                    [待检验 ▼]
🔴 UI-TC003 🔴 输入框验证                  [不通过 ▼]
```

- 🟢 通过 - 绿色圆点
- ⚪ 待检验 - 白色圆点
- 🔴 不通过 - 红色圆点

### 5. 快捷操作

```
┌──────────────┬──────────────┬──────────────┬──────────────┐
│✅ 全部标记为通过│🔄 全部重置为待检验│📥 导出当前模块│🔍 搜索用例    │
└──────────────┴──────────────┴──────────────┴──────────────┘
```

## 🎬 使用演示

### 场景1: 首次使用

**步骤1: 生成用例**
```
1. 上传需求文档 → test_document.md
2. 点击"模块/页面识别" → 识别到5个模块
3. 保持全选状态
4. 点击"生成UI走查用例" → 生成40个用例
```

**步骤2: 开始检验**
```
1. 切换到"在线检验"标签页
2. 看到整体统计：总用例数 40，已检验 0
3. 选择"用户登录页面"模块
4. 看到该模块有8个用例
```

**步骤3: 逐条检验**
```
用例1: UI-TC001 - 页面标题
- 打开登录页面
- 检查标题字体、字号、颜色
- 符合要求 → 选择"通过"
- 状态变为 🟢

用例2: UI-TC002 - 按钮状态
- 检查登录按钮的各种状态
- 发现禁用状态样式不对 → 选择"不通过"
- 状态变为 🔴

用例3: UI-TC003 - 输入框状态
- 检查用户名输入框
- 符合要求 → 选择"通过"
- 状态变为 🟢

...继续检验其他用例
```

**步骤4: 查看进度**
```
模块统计更新：
- 模块用例数: 8
- 已检验: 3
- 通过: 2
- 通过率: 66.7%
```

**步骤5: 导出结果**
```
1. 完成当前模块检验
2. 点击"导出当前模块"
3. 下载CSV文件
4. 切换到下一个模块继续检验
```

### 场景2: 快速检验

**适用情况**: 功能简单，快速检验后确认全部通过

```
1. 选择"首页"模块
2. 快速浏览所有用例
3. 确认全部符合要求
4. 点击"✅ 全部标记为通过"
5. 所有用例状态变为 🟢
6. 模块通过率: 100%
```

### 场景3: 搜索定位

**适用情况**: 用例较多，需要快速定位特定用例

```
1. 选择"用户管理页面"模块（20个用例）
2. 在搜索框输入"按钮"
3. 过滤出5个包含"按钮"的用例
4. 专注检验这些用例
5. 清空搜索框，继续检验其他用例
```

### 场景4: 分批检验

**适用情况**: 用例较多，分多次完成

```
第一天:
1. 检验"用户登录页面"和"首页"
2. 标记状态
3. 导出中间结果
4. 关闭浏览器

第二天:
1. 打开应用
2. 切换到"在线检验"
3. 状态已恢复（前提是没有清除数据）
4. 继续检验"用户管理页面"
5. 完成后导出全部结果
```

## 📊 数据流转

```
上传文档
   ↓
识别模块
   ↓
生成用例 → all_cases (Session State)
   ↓
在线检验 → verification_status (Session State)
   ↓
导出结果 → CSV文件（包含检验状态）
```

## 🎨 界面截图说明

### 1. 整体布局

```
┌─────────────────────────────────────────────────────┐
│ 🎨 UI走查用例生成助手                                 │
│ 自动生成UI走查用例 - 简化版                           │
├─────────────────────────────────────────────────────┤
│ ✅ 已有生成记录，刷新页面后数据仍会保留  [🗑️ 清除数据] │
├─────────────────────────────────────────────────────┤
│ [📤 上传文档] [📊 生成结果] [✅ 在线检验]              │
├─────────────────────────────────────────────────────┤
│                                                       │
│  📊 整体检验进度                                      │
│  ┌─────┬─────┬─────┬─────┬─────┐                    │
│  │总用例│已检验│通过 │不通过│通过率│                    │
│  │ 40  │ 25  │ 20  │  5  │80.0%│                    │
│  └─────┴─────┴─────┴─────┴─────┘                    │
│  [████████████████░░░░░░░░] 检验进度: 25/40          │
│                                                       │
│  🔄 选择模块                                          │
│  ( ) 用户登录页面  (●) 首页  ( ) 用户管理页面         │
│                                                       │
│  📋 首页                                              │
│  ┌─────┬─────┬─────┬─────┐                          │
│  │模块  │已检验│通过 │通过率│                          │
│  │  8  │  6  │  5  │83.3%│                          │
│  └─────┴─────┴─────┴─────┘                          │
│                                                       │
│  [✅ 全部标记为通过] [🔄 全部重置] [📥 导出] [🔍 搜索] │
│                                                       │
│  📝 用例列表                                          │
│  ┌─────────────────────────────────────────────┐    │
│  │ 🟢 UI-TC001 🔴 页面标题          [通过 ▼]   │    │
│  │ 设计原则: 视觉一致性原则                     │    │
│  │ 检查项: 检查首页标题的字体、字号、颜色        │    │
│  │ 预期结果: 标题字号16px，字重500，颜色#262626 │    │
│  ├─────────────────────────────────────────────┤    │
│  │ ⚪ UI-TC002 🟡 按钮状态          [待检验 ▼]  │    │
│  │ 设计原则: 组件状态完整性原则                 │    │
│  │ 检查项: 检查首页中主要按钮的各种状态          │    │
│  │ 预期结果: 按钮有默认、悬停、点击、禁用状态    │    │
│  └─────────────────────────────────────────────┘    │
│                                                       │
│  📥 导出检验结果                                      │
│  [📥 导出全部检验结果] [🔄 重置所有检验状态]          │
│                                                       │
└─────────────────────────────────────────────────────┘
```

## 🔄 状态变化演示

### 初始状态

```
📊 整体检验进度
总用例数: 40  已检验: 0  通过: 0  不通过: 0  通过率: 0%
[░░░░░░░░░░░░░░░░░░░░░░░░] 检验进度: 0/40

所有用例状态: ⚪ 待检验
```

### 检验中

```
📊 整体检验进度
总用例数: 40  已检验: 15  通过: 12  不通过: 3  通过率: 80.0%
[█████████░░░░░░░░░░░░░░░] 检验进度: 15/40

用例状态分布:
- 🟢 通过: 12个
- 🔴 不通过: 3个
- ⚪ 待检验: 25个
```

### 完成检验

```
📊 整体检验进度
总用例数: 40  已检验: 40  通过: 35  不通过: 5  通过率: 87.5%
[████████████████████████] 检验进度: 40/40

用例状态分布:
- 🟢 通过: 35个
- 🔴 不通过: 5个
- ⚪ 待检验: 0个
```

## 💾 导出文件示例

### 导出的CSV文件内容

```csv
用例编号,页面/模块,检查点,设计原则,检查项,优先级,预期结果/设计标准,检验状态
UI-TC001,首页,页面标题,视觉一致性原则,检查首页标题的字体、字号、颜色,高,标题字号16px，字重500，颜色#262626,通过
UI-TC002,首页,按钮状态,组件状态完整性原则,检查首页中主要按钮的各种状态,高,按钮有默认、悬停、点击、禁用状态,不通过
UI-TC003,首页,操作反馈,交互与反馈原则,检查首页中操作是否有及时反馈,高,操作成功/失败时显示Toast提示,通过
...
```

### 文件命名

- 全部结果: `UI走查检验结果-20251111_172000.csv`
- 单个模块: `首页-检验结果-20251111_172000.csv`

## 🎯 使用建议

### 1. 检验顺序

建议按以下顺序检验：

```
1. 高优先级用例（🔴）
2. 中优先级用例（🟡）
3. 低优先级用例（🟢）
```

### 2. 时间分配

```
- 简单模块（5-10个用例）: 15-30分钟
- 中等模块（10-20个用例）: 30-60分钟
- 复杂模块（20+个用例）: 1-2小时
```

### 3. 团队协作

```
方案1: 按模块分工
- 张三负责: 用户登录页面、首页
- 李四负责: 用户管理页面、数据报表页面
- 各自导出模块结果，最后汇总

方案2: 按优先级分工
- 张三负责: 所有高优先级用例
- 李四负责: 所有中低优先级用例
- 最后导出全部结果
```

## 🚀 立即体验

1. **打开应用**: http://localhost:8501
2. **切换标签**: 点击"✅ 在线检验"
3. **开始检验**: 选择模块，标记状态
4. **导出结果**: 完成后导出CSV文件

---

**新功能已上线，快来体验吧！** 🎉

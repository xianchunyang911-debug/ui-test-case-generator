# UI走查用例生成规则验证

## ✅ 已实现的规则遵循

### 1. CSV格式规范
- ✅ 使用UTF-8编码
- ✅ 逗号分隔
- ✅ 包含所有必需列：用例编号、页面/模块、检查点、设计原则、检查项、优先级、预期结果/设计标准、是否通过、截图/备注

### 2. 8大UI走查原则
AI生成时会严格遵循以下原则：
1. ✅ 视觉一致性原则
2. ✅ 布局与响应式原则
3. ✅ 组件状态完整性原则
4. ✅ 内容与文案准确性原则
5. ✅ 交互与反馈原则
6. ✅ 可访问性与可用性原则
7. ✅ 场景法
8. ✅ 异常与负向流程验证

### 3. 数据生成规则
- ✅ 用例编号格式：UI-TC001、UI-TC002...
- ✅ 检查点基于具体的设计元素或组件
- ✅ 设计原则从8大原则中选择
- ✅ 检查项描述清晰、具体
- ✅ 预期结果引用具体数值（如：字号16px，颜色#262626）
- ✅ 优先级合理分配（高优先级占60%以上）

### 4. 质量标准
- ✅ 独立性：每个用例独立执行
- ✅ 可重复性：可重复执行
- ✅ 可验证性：预期结果具体可验证
- ✅ 清晰性：描述清晰无歧义
- ✅ 完整性：包含所有必要信息
- ✅ 覆盖性：覆盖所有关键UI元素

## 📋 规则应用流程

### AI生成流程
1. **加载规则文档**：`ai_generator.py` 初始化时自动加载 `AI生成UI走查用例规则.md`
2. **构建Prompt**：将规则文档内容（前3000字符）作为上下文传递给AI
3. **生成用例**：AI根据规则和需求文档生成用例
4. **数据验证**：验证字段完整性和格式正确性
5. **保存文件**：保存为CSV格式

### 模板生成流程
1. **使用预定义模板**：`_template_cases()` 方法
2. **遵循相同规则**：模板用例也符合8大原则
3. **快速生成**：无需AI，秒级完成

## 🔍 验证方法

### 检查生成的用例是否符合规则

1. **打开生成的CSV文件**
2. **检查列结构**：
   - 用例编号（UI-TC001格式）
   - 页面/模块
   - 检查点
   - 设计原则（必须是8大原则之一）
   - 检查项
   - 优先级（高/中/低）
   - 预期结果/设计标准（包含具体数值）
   - 是否通过
   - 截图/备注

3. **检查内容质量**：
   - 预期结果是否具体（如：字号16px，而非"字号合适"）
   - 设计原则是否正确引用8大原则
   - 检查点是否基于具体组件
   - 优先级分配是否合理

## 💡 使用建议

### 获得最佳效果
1. **使用AI生成**：配置DeepSeek API Key，获得更智能的用例
2. **提供详细需求文档**：文档越详细，生成的用例越准确
3. **使用Markdown格式**：结构清晰，AI识别效果最好
4. **包含设计规范**：在需求文档中包含颜色、字号等设计规范

### 示例需求文档结构
```markdown
# 功能名称

## 1. 功能概述
...

## 2. 页面结构
### 2.1 首页
- 标题：字号16px，字重500，颜色#262626
- 按钮：主按钮颜色#1890FF，圆角4px
...

## 3. 交互说明
- 点击按钮后显示Loading状态
- 操作成功显示Toast提示
...
```

## 📊 当前状态

- ✅ 规则文档已创建
- ✅ AI生成器已集成规则
- ✅ 模板用例符合规则
- ✅ Web界面支持多格式文档
- ✅ 生成流程完整可用

## 🎯 下一步优化

1. 增加规则验证功能，自动检查生成的用例是否符合规则
2. 支持自定义规则配置
3. 添加用例质量评分
4. 支持批量生成多个模块

# DeepSeeké›†æˆæŒ‡å—

## ğŸ¯ ä¸ºä»€ä¹ˆé€‰æ‹©DeepSeekï¼Ÿ

### ä¼˜åŠ¿å¯¹æ¯”

| ç‰¹æ€§ | DeepSeek | OpenAI GPT-4 |
|------|----------|--------------|
| ä»·æ ¼ | Â¥1/ç™¾ä¸‡tokens | Â¥60/ç™¾ä¸‡tokens |
| æ€§èƒ½ | ä¼˜ç§€ | ä¼˜ç§€ |
| ä¸­æ–‡æ”¯æŒ | åŸç”Ÿæ”¯æŒ | æ”¯æŒ |
| APIå…¼å®¹æ€§ | OpenAIæ ¼å¼ | OpenAIæ ¼å¼ |
| å“åº”é€Ÿåº¦ | å¿« | å¿« |

**æ€§ä»·æ¯”**: DeepSeekçš„ä»·æ ¼æ˜¯GPT-4çš„1/60ï¼Œéå¸¸é€‚åˆå¤§è§„æ¨¡ä½¿ç”¨ï¼

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ­¥éª¤1: è·å–API Keyï¼ˆ2åˆ†é’Ÿï¼‰

1. è®¿é—® [DeepSeekå¹³å°](https://platform.deepseek.com/)
2. æ³¨å†Œ/ç™»å½•è´¦å·
3. è¿›å…¥ [API Keysé¡µé¢](https://platform.deepseek.com/api_keys)
4. ç‚¹å‡»"åˆ›å»ºAPI Key"
5. å¤åˆ¶ç”Ÿæˆçš„API Key

### æ­¥éª¤2: é…ç½®API Key

#### æ–¹å¼1: åœ¨Webç•Œé¢é…ç½®ï¼ˆæ¨èï¼‰

1. å¯åŠ¨Streamlitåº”ç”¨
   ```bash
   streamlit run streamlit_app.py
   ```

2. åœ¨å·¦ä¾§è¾¹æ ï¼š
   - å‹¾é€‰"ä½¿ç”¨AIç”Ÿæˆ"
   - é€‰æ‹©"DeepSeekï¼ˆæ¨èï¼‰"
   - è¾“å…¥API Key

3. å¼€å§‹ä½¿ç”¨ï¼

#### æ–¹å¼2: ä½¿ç”¨ç¯å¢ƒå˜é‡

åˆ›å»º `.env` æ–‡ä»¶ï¼š
```bash
cp .env.example .env
```

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼š
```bash
DEEPSEEK_API_KEY=your-api-key-here
```

åŠ è½½ç¯å¢ƒå˜é‡ï¼š
```bash
# å®‰è£…python-dotenv
pip install python-dotenv

# åœ¨ä»£ç ä¸­åŠ è½½
from dotenv import load_dotenv
load_dotenv()
```

### æ­¥éª¤3: æµ‹è¯•AIç”Ÿæˆ

```python
from ai_generator import AIGenerator

# åˆå§‹åŒ–
generator = AIGenerator(
    provider='deepseek',
    api_key='your-api-key'
)

# åˆ†æéœ€æ±‚
content = """
# ç”¨æˆ·ç™»å½•åŠŸèƒ½
## 1. ç™»å½•é¡µé¢
ç”¨æˆ·è¾“å…¥è´¦å·å¯†ç ç™»å½•
"""

analysis = generator.analyze_requirement(content)
print(f"è¯†åˆ«åˆ° {analysis['total_modules']} ä¸ªæ¨¡å—")

# ç”Ÿæˆç”¨ä¾‹
if analysis['modules']:
    cases = generator.generate_test_cases(content, analysis['modules'][0])
    print(f"ç”Ÿæˆäº† {len(cases)} ä¸ªç”¨ä¾‹")
```

## ğŸ“Š åŠŸèƒ½å¯¹æ¯”

### ä¸ä½¿ç”¨AIï¼ˆæ¨¡æ¿ç”Ÿæˆï¼‰
- âœ… å…è´¹
- âœ… å¿«é€Ÿï¼ˆç§’çº§ï¼‰
- âŒ ç”¨ä¾‹é€šç”¨æ€§å¼ºï¼Œé’ˆå¯¹æ€§å¼±
- âŒ æ— æ³•ç†è§£å¤æ‚éœ€æ±‚
- é€‚åˆï¼šç®€å•é¡¹ç›®ã€å¿«é€ŸéªŒè¯

### ä½¿ç”¨DeepSeek AI
- âœ… æ€§ä»·æ¯”é«˜ï¼ˆÂ¥1/ç™¾ä¸‡tokensï¼‰
- âœ… æ™ºèƒ½ç†è§£éœ€æ±‚
- âœ… ç”Ÿæˆé’ˆå¯¹æ€§å¼ºçš„ç”¨ä¾‹
- âœ… è‡ªåŠ¨è¯†åˆ«æ¨¡å—ç»“æ„
- âœ… é¢„æœŸç»“æœæ›´å…·ä½“
- âš ï¸ éœ€è¦API Key
- âš ï¸ ç¨æ…¢ï¼ˆ10-30ç§’ï¼‰
- é€‚åˆï¼šå¤æ‚é¡¹ç›®ã€ç”Ÿäº§ç¯å¢ƒ

## ğŸ’¡ ä½¿ç”¨æŠ€å·§

### 1. ä¼˜åŒ–éœ€æ±‚æ–‡æ¡£

AIç”Ÿæˆæ•ˆæœå–å†³äºéœ€æ±‚æ–‡æ¡£è´¨é‡ï¼š

**å¥½çš„éœ€æ±‚æ–‡æ¡£**ï¼š
```markdown
# ç”¨æˆ·ç®¡ç†åŠŸèƒ½

## 1. ç”¨æˆ·åˆ—è¡¨é¡µ
### 1.1 é¡µé¢å¸ƒå±€
- é¡¶éƒ¨æœç´¢æ 
- ç”¨æˆ·è¡¨æ ¼ï¼ˆå§“åã€é‚®ç®±ã€çŠ¶æ€ã€æ“ä½œï¼‰
- åˆ†é¡µç»„ä»¶

### 1.2 å­—æ®µè¯´æ˜
| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| å§“å | æ–‡æœ¬ | æœ€å¤š20å­—ç¬¦ |
| é‚®ç®± | æ–‡æœ¬ | é‚®ç®±æ ¼å¼éªŒè¯ |
| çŠ¶æ€ | æ ‡ç­¾ | å¯ç”¨/ç¦ç”¨ |

### 1.3 äº¤äº’è¯´æ˜
- ç‚¹å‡»"æ–°å»ºç”¨æˆ·"æ‰“å¼€å¼¹çª—
- ç‚¹å‡»"ç¼–è¾‘"è¿›å…¥ç¼–è¾‘é¡µé¢
- ç‚¹å‡»"åˆ é™¤"æ˜¾ç¤ºç¡®è®¤å¯¹è¯æ¡†
```

**ä¸å¥½çš„éœ€æ±‚æ–‡æ¡£**ï¼š
```markdown
# ç”¨æˆ·ç®¡ç†
æœ‰ä¸ªç”¨æˆ·åˆ—è¡¨ï¼Œå¯ä»¥å¢åˆ æ”¹æŸ¥
```

### 2. æ§åˆ¶æˆæœ¬

DeepSeekè™½ç„¶ä¾¿å®œï¼Œä½†ä¹Ÿè¦æ³¨æ„æˆæœ¬æ§åˆ¶ï¼š

```python
# é™åˆ¶æ–‡æ¡£é•¿åº¦
content_preview = content[:2000]  # åªå‘é€å‰2000å­—ç¬¦

# æ‰¹é‡ç”Ÿæˆ
# ä¸€æ¬¡è¯·æ±‚ç”Ÿæˆå¤šä¸ªæ¨¡å—çš„ç”¨ä¾‹ï¼Œè€Œä¸æ˜¯æ¯ä¸ªæ¨¡å—å•ç‹¬è¯·æ±‚
```

### 3. é”™è¯¯å¤„ç†

```python
try:
    generator = AIGenerator(provider='deepseek', api_key=api_key)
    cases = generator.generate_test_cases(content, module)
except Exception as e:
    print(f"AIç”Ÿæˆå¤±è´¥: {e}")
    # é™çº§åˆ°æ¨¡æ¿ç”Ÿæˆ
    cases = template_generator.generate(module)
```

## ğŸ”§ é«˜çº§é…ç½®

### è‡ªå®šä¹‰Prompt

ä¿®æ”¹ `ai_generator.py` ä¸­çš„promptï¼š

```python
def generate_test_cases(self, content: str, module: Dict) -> List[Dict]:
    prompt = f"""ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„UIæµ‹è¯•å·¥ç¨‹å¸ˆã€‚

è¯·ä¸ºã€{module['name']}ã€‘æ¨¡å—ç”ŸæˆUIèµ°æŸ¥ç”¨ä¾‹ã€‚

éœ€æ±‚ï¼š
{content}

è¦æ±‚ï¼š
1. æ¯ä¸ªç”¨ä¾‹å¿…é¡»åŒ…å«å…·ä½“çš„æ£€æŸ¥æ ‡å‡†ï¼ˆå¦‚ï¼šå­—å·16pxï¼Œé¢œè‰²#262626ï¼‰
2. ä¼˜å…ˆçº§åˆ†é…ï¼šé«˜60%ï¼Œä¸­30%ï¼Œä½10%
3. è¦†ç›–æ­£å¸¸æµç¨‹ã€å¼‚å¸¸æµç¨‹ã€è¾¹ç•Œæ¡ä»¶

è¿”å›JSONæ ¼å¼...
"""
```

### è°ƒæ•´æ¸©åº¦å‚æ•°

```python
response = self.client.chat.completions.create(
    model=self.model,
    messages=[...],
    temperature=0.3,  # 0-1ï¼Œè¶Šä½è¶Šç¡®å®šï¼Œè¶Šé«˜è¶Šåˆ›é€ 
    response_format={"type": "json_object"}
)
```

- `temperature=0.1-0.3`: æ›´ç¡®å®šï¼Œé€‚åˆç”Ÿæˆæ ‡å‡†ç”¨ä¾‹
- `temperature=0.5-0.7`: å¹³è¡¡ï¼Œé€‚åˆä¸€èˆ¬åœºæ™¯
- `temperature=0.8-1.0`: æ›´åˆ›é€ ï¼Œé€‚åˆæ¢ç´¢æ€§æµ‹è¯•

### åˆ‡æ¢æ¨¡å‹

DeepSeekæä¾›å¤šä¸ªæ¨¡å‹ï¼š

```python
# æ ‡å‡†æ¨¡å‹ï¼ˆæ¨èï¼‰
self.model = "deepseek-chat"

# å¦‚æœæœ‰å…¶ä»–æ¨¡å‹
# self.model = "deepseek-coder"  # ä»£ç ä¸“ç”¨
```

## ğŸ“ˆ æˆæœ¬ä¼°ç®—

### DeepSeekå®šä»·
- è¾“å…¥ï¼šÂ¥1/ç™¾ä¸‡tokens
- è¾“å‡ºï¼šÂ¥2/ç™¾ä¸‡tokens

### å®é™…ä½¿ç”¨ä¼°ç®—

**å•æ¬¡ç”Ÿæˆ**ï¼š
- éœ€æ±‚æ–‡æ¡£ï¼š~2000 tokens
- AIå“åº”ï¼š~1000 tokens
- æˆæœ¬ï¼šçº¦ Â¥0.004ï¼ˆä¸åˆ°1åˆ†é’±ï¼‰

**100æ¬¡ç”Ÿæˆ**ï¼š
- æˆæœ¬ï¼šçº¦ Â¥0.4ï¼ˆ4æ¯›é’±ï¼‰

**1000æ¬¡ç”Ÿæˆ**ï¼š
- æˆæœ¬ï¼šçº¦ Â¥4ï¼ˆ4å—é’±ï¼‰

å¯¹æ¯”GPT-4ï¼š
- 100æ¬¡ç”Ÿæˆï¼šçº¦ Â¥24
- 1000æ¬¡ç”Ÿæˆï¼šçº¦ Â¥240

**èŠ‚çœ95%ä»¥ä¸Šçš„æˆæœ¬ï¼**

## ğŸ› æ•…éšœæ’æŸ¥

### é—®é¢˜1: API Keyæ— æ•ˆ

```
Error: Invalid API Key
```

è§£å†³ï¼š
1. æ£€æŸ¥API Keyæ˜¯å¦æ­£ç¡®å¤åˆ¶
2. ç¡®è®¤API Keyæœªè¿‡æœŸ
3. æ£€æŸ¥è´¦æˆ·ä½™é¢

### é—®é¢˜2: ç½‘ç»œè¿æ¥å¤±è´¥

```
Error: Connection timeout
```

è§£å†³ï¼š
1. æ£€æŸ¥ç½‘ç»œè¿æ¥
2. å°è¯•ä½¿ç”¨ä»£ç†
3. æ£€æŸ¥é˜²ç«å¢™è®¾ç½®

### é—®é¢˜3: Tokenè¶…é™

```
Error: Token limit exceeded
```

è§£å†³ï¼š
1. å‡å°‘è¾“å…¥æ–‡æ¡£é•¿åº¦
2. åˆ†æ‰¹å¤„ç†
3. å‡çº§è´¦æˆ·é…é¢

### é—®é¢˜4: è¿”å›æ ¼å¼é”™è¯¯

```
Error: JSON decode error
```

è§£å†³ï¼š
1. æ£€æŸ¥response_formatè®¾ç½®
2. æ·»åŠ é”™è¯¯å¤„ç†
3. é™çº§åˆ°æ¨¡æ¿ç”Ÿæˆ

## ğŸ“š ç›¸å…³èµ„æº

- [DeepSeekå®˜ç½‘](https://www.deepseek.com/)
- [DeepSeekå¹³å°](https://platform.deepseek.com/)
- [APIæ–‡æ¡£](https://platform.deepseek.com/api-docs/)
- [å®šä»·è¯´æ˜](https://platform.deepseek.com/pricing)

## ğŸ‰ æœ€ä½³å®è·µ

### 1. æ··åˆä½¿ç”¨

```python
# é‡è¦é¡¹ç›®ï¼šä½¿ç”¨AI
if project.priority == 'high':
    generator = AIGenerator(provider='deepseek')
    cases = generator.generate_test_cases(content, module)
else:
    # ä¸€èˆ¬é¡¹ç›®ï¼šä½¿ç”¨æ¨¡æ¿
    cases = template_generator.generate(module)
```

### 2. ç¼“å­˜ç»“æœ

```python
import json

# ä¿å­˜AIç”Ÿæˆç»“æœ
with open('cache.json', 'w') as f:
    json.dump(cases, f)

# ä¸‹æ¬¡ç›´æ¥è¯»å–
with open('cache.json', 'r') as f:
    cases = json.load(f)
```

### 3. äººå·¥å®¡æ ¸

AIç”Ÿæˆçš„ç”¨ä¾‹å»ºè®®äººå·¥å®¡æ ¸ï¼š
- æ£€æŸ¥é¢„æœŸç»“æœæ˜¯å¦å‡†ç¡®
- è¡¥å……é—æ¼çš„åœºæ™¯
- è°ƒæ•´ä¼˜å…ˆçº§

---

**ç°åœ¨å°±å¼€å§‹ä½¿ç”¨DeepSeekï¼Œè®©AIå¸®ä½ ç”Ÿæˆæ›´æ™ºèƒ½çš„UIèµ°æŸ¥ç”¨ä¾‹ï¼** ğŸš€

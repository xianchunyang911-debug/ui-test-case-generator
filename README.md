# 🎨 UI走查用例生成智能体

> 从3小时到3分钟，让UI走查更高效

## 📖 项目简介

UI走查用例生成智能体是一个自动化工具，可以根据需求文档自动生成UI走查用例和走查计划。支持CSV和Excel多Sheet两种格式，内置自动统计功能，大幅提升UI走查效率。

### ✨ 核心特性

- 🤖 **智能识别** - AI/规则双引擎自动识别功能模块和页面
- ✅ **灵活选择** - 通过复选框自定义选择需要生成用例的模块
- 🎯 **建议选项** - 提供全局页面、场景流程、异常场景、上下游验证等快捷选项
- 📊 **多种格式** - 支持CSV和Excel多Sheet格式
- 📈 **自动统计** - Excel格式支持自动计算完成率
- 🎨 **8大原则** - 应用专业的UI走查设计原则
- 🚀 **高效快速** - 从3小时缩短到3分钟
- 👥 **团队协作** - 支持多人协作和进度跟踪

### 📊 效果对比

| 对比项 | 手动生成 | 智能体生成 |
|--------|----------|------------|
| 时间成本 | 3小时 | 3分钟 |
| 用例数量 | 50-80个 | 100+个 |
| 覆盖率 | 70-80% | 90%+ |
| 一致性 | 中等 | 高 |
| 可维护性 | 低 | 高 |

## 🚀 快速开始

### 方案选择

我们提供3种实现方案，根据你的需求选择：

| 方案 | 难度 | 时间 | 适用场景 |
|------|------|------|----------|
| **Kiro Hook** | ⭐ | 5分钟 | 个人开发，集成到IDE |
| **Streamlit** | ⭐ | 5分钟 | 快速原型，内部使用 |
| **Flask + Vue** | ⭐⭐⭐ | 30分钟 | 生产环境，团队使用 |

### 方案1: Kiro Hook（最简单）

**适合**: 个人开发者，已使用Kiro IDE

```bash
# 1. 创建Hook
打开Kiro → Cmd+Shift+P → "Open Kiro Hook UI"

# 2. 配置Hook
Name: UI走查用例生成
Trigger: File Save
Pattern: *需求文档*.md

# 3. 使用
保存需求文档 → 自动生成用例
```

📖 详细文档: [智能体快速实现指南.md](智能体快速实现指南.md)

### 方案2: Streamlit（最快）

**适合**: 快速验证，内部使用

```bash
# 1. 安装依赖
pip install streamlit pandas openpyxl

# 2. 运行应用
streamlit run streamlit_app.py

# 3. 访问
浏览器自动打开 http://localhost:8501
```

📖 详细文档: [Web版快速启动指南.md](Web版快速启动指南.md)

### 方案3: Flask + Vue（推荐生产）

**适合**: 团队使用，生产环境

```bash
# 后端
cd backend
pip install -r requirements.txt
python app.py

# 前端（新终端）
cd frontend
npm install
npm run serve

# 访问
http://localhost:8080
```

📖 详细文档: [Flask+Vue完整启动指南.md](Flask+Vue完整启动指南.md)

## 📁 项目结构

```
ui-test-gen/
├── backend/                          # Flask后端
│   ├── app.py                       # 主应用
│   └── requirements.txt             # Python依赖
│
├── frontend/                         # Vue.js前端
│   ├── src/
│   │   ├── App.vue                 # 主组件
│   │   ├── main.js                 # 入口文件
│   │   └── components/             # 子组件
│   └── package.json                # Node依赖
│
├── streamlit_app.py                 # Streamlit应用
├── csv_to_excel_multi_sheet.py     # Excel生成脚本
│
├── module_recognizer.py             # 模块识别器
├── module_selector.py               # 模块选择器
├── test_case_coordinator.py         # 用例生成协调器
├── session_state_utils.py           # Session State工具
│
├── .kiro/
│   └── specs/
│       └── module-selection-feature/  # 模块选择功能规范
│           ├── requirements.md      # 需求文档
│           ├── design.md           # 设计文档
│           └── tasks.md            # 任务列表
│
├── .kiro/
│   └── steering/
│       └── ui-test-gen.md          # Steering规则
│
├── 规则文档/
│   ├── AI生成UI走查用例规则.md
│   └── AI生成Excel多Sheet UI走查用例规则.md
│
├── 实现文档/
│   ├── UI走查用例生成智能体设计方案.md
│   ├── 智能体快速实现指南.md
│   ├── Web界面智能体实现方案.md
│   └── Flask+Vue完整启动指南.md
│
└── 使用文档/
    ├── Excel多Sheet使用说明.md
    ├── Excel自动统计功能演示.md
    └── 快速开始.md
```

## 🎯 核心功能

### 1. 模块识别与选择（新功能）

#### 智能识别
- ✅ **AI识别** - 使用AI智能分析文档，识别功能模块和页面
- ✅ **规则识别** - 基于Markdown/Word标题层级识别模块
- ✅ **自动降级** - AI失败时自动降级到规则识别
- ✅ **多格式支持** - 支持Markdown、Word、纯文本文档

#### 灵活选择
- ✅ **复选框选择** - 为每个识别的模块提供复选框
- ✅ **快捷操作** - 全选、全不选、重新识别按钮
- ✅ **搜索过滤** - 快速定位特定模块
- ✅ **状态持久化** - 页面刷新后保持选择状态

#### 建议选项
- 🌐 **全局页面** - 导航、头部、底部等通用组件
- 🔄 **场景流程** - 多步骤操作流程和用户路径
- ⚠️ **异常场景** - 错误处理、边界条件、空状态
- 🔗 **上下游验证** - 数据流转、接口调用、系统集成

### 2. 用例生成

应用8大UI走查原则：

1. **视觉一致性原则** - 颜色、字体、图标、间距
2. **布局与响应式原则** - 对齐、响应式、内容截断
3. **组件状态完整性原则** - 按钮、输入框、链接状态
4. **内容与文案准确性原则** - 错别字、信息准确性
5. **交互与反馈原则** - 加载状态、操作反馈
6. **可访问性与可用性原则** - 键盘导航、焦点指示
7. **场景法** - 正常场景、分支场景、跨页面交互
8. **异常与负向流程验证** - 输入验证、操作失败、空状态

### 3. 格式输出

#### CSV格式
- 单文件，所有用例在一起
- 适合简单项目（<50用例）
- 易于版本控制

#### Excel多Sheet格式（推荐）
- 多Sheet，按模块分组
- 适合复杂项目（>50用例）
- 支持下拉选择（待测试/是/否）
- 自动统计完成数量和完成率
- 优先级颜色标识

### 4. 自动统计

Excel格式支持：
- ✅ 下拉选择测试结果
- ✅ 自动统计完成数量
- ✅ 自动计算完成率
- ✅ 实时更新进度

## 📚 文档导航

### 快速开始
- [快速开始.md](快速开始.md) - 5分钟上手指南
- [智能体快速实现指南.md](智能体快速实现指南.md) - Kiro Hook实现
- [Web版快速启动指南.md](Web版快速启动指南.md) - Streamlit实现
- [Flask+Vue完整启动指南.md](Flask+Vue完整启动指南.md) - 生产环境实现

### 设计文档
- [UI走查用例生成智能体设计方案.md](UI走查用例生成智能体设计方案.md) - 完整设计方案
- [Web界面智能体实现方案.md](Web界面智能体实现方案.md) - Web方案设计
- [智能体实现总结.md](智能体实现总结.md) - 实现总结

### 规则文档
- [AI生成UI走查用例规则.md](AI生成UI走查用例规则.md) - CSV格式规范
- [AI生成Excel多Sheet UI走查用例规则.md](AI生成Excel多Sheet UI走查用例规则.md) - Excel格式规范
- [UI走查计划模板.md](UI走查计划模板.md) - 走查计划模板

### 使用文档
- [Excel多Sheet使用说明.md](Excel多Sheet使用说明.md) - Excel使用指南
- [Excel自动统计功能演示.md](Excel自动统计功能演示.md) - 功能演示
- [功能更新说明.md](功能更新说明.md) - 更新日志

## 🛠️ 技术栈

### 后端
- Python 3.9+
- Flask 3.0
- Pandas
- OpenPyXL

### 前端
- Vue.js 3
- Element Plus
- Axios

### AI（可选）
- OpenAI API
- 本地LLM

## 🎨 界面预览

### Streamlit版本
```
┌─────────────────────────────────────┐
│  🎨 UI走查用例生成助手               │
│  从3小时到3分钟                      │
├─────────────────────────────────────┤
│  📤 上传文档 │ 📊 生成结果 │ 📚 说明 │
│                                     │
│  [拖拽上传区域]                      │
│                                     │
│  [🔍 模块/页面识别]                 │
│                                     │
│  📋 识别到 11 个模块                │
│  [全选] [全不选] [重新识别]         │
│                                     │
│  ☑ 用户管理模块                     │
│  ☑ 数据统计模块                     │
│  ☐ 系统设置模块                     │
│  ...                                │
│                                     │
│  🎯 建议选项                        │
│  ☐ 全局页面  ☐ 场景流程             │
│  ☐ 异常场景  ☐ 上下游验证           │
│                                     │
│  已选择: 8/11 个模块                │
│  [🚀 生成UI走查用例]                │
└─────────────────────────────────────┘
```

### Flask + Vue版本
```
┌─────────────────────────────────────┐
│  🎨 UI走查用例生成助手               │
├─────────────────────────────────────┤
│  侧边栏：配置选项                    │
├─────────────────────────────────────┤
│  主界面：                            │
│  ├─ 上传文档                        │
│  ├─ 生成结果                        │
│  ├─ 生成历史                        │
│  └─ 使用说明                        │
└─────────────────────────────────────┘
```

## 📖 使用流程

### 新版流程（模块选择）

```
1️⃣ 上传需求文档
   ↓
2️⃣ 点击"模块/页面识别"
   ↓
3️⃣ 查看识别的模块列表
   ↓
4️⃣ 选择需要生成用例的模块
   ↓
5️⃣ 选择建议选项（可选）
   ↓
6️⃣ 点击"生成UI走查用例"
   ↓
7️⃣ 下载CSV/Excel文件
```

### 建议选项使用指南

#### 🌐 全局页面
**适用场景**: 需要测试通用组件和导航
- 导航栏、头部、底部
- 侧边栏、面包屑
- 全局搜索、通知中心

**生成重点**: 
- 通用组件的一致性
- 跨页面导航的正确性
- 全局状态的保持

#### 🔄 场景流程
**适用场景**: 需要测试多步骤操作流程
- 用户注册/登录流程
- 订单创建/支付流程
- 数据导入/导出流程

**生成重点**:
- 步骤间的数据传递
- 流程的完整性
- 返回和取消操作

#### ⚠️ 异常场景
**适用场景**: 需要测试错误处理和边界情况
- 输入验证
- 网络错误
- 权限不足

**生成重点**:
- 错误提示的准确性
- 边界值处理
- 空状态显示

#### 🔗 上下游验证
**适用场景**: 需要测试系统集成和数据流转
- 接口调用
- 数据同步
- 第三方集成

**生成重点**:
- 数据一致性
- 接口响应处理
- 异步操作反馈

## 📈 使用统计

### 成功案例

**案例1: 跨域训练功能**
- 需求文档: 1个
- 识别模块: 11个
- 选择模块: 8个
- 生成用例: 113个
- 生成时间: 3分钟
- 效率提升: 95%

**案例2: 用户管理功能**
- 需求文档: 1个
- 识别模块: 5个
- 选择模块: 3个
- 生成用例: 45个
- 生成时间: 2分钟
- 效率提升: 90%

## 🤝 贡献指南

欢迎贡献代码、文档或建议！

1. Fork项目
2. 创建特性分支
3. 提交更改
4. 推送到分支
5. 创建Pull Request

## 📄 许可证

MIT License

## 🙏 致谢

感谢所有贡献者和使用者！

## 📞 联系方式

- 问题反馈: [GitHub Issues]
- 文档问题: 查看相关文档
- 技术支持: 参考故障排查章节

---

**让UI走查更高效，从现在开始！** 🚀

## 🔗 快速链接

- [立即开始](快速开始.md)
- [查看演示](Excel自动统计功能演示.md)
- [阅读文档](智能体快速实现指南.md)
- [部署指南](Flask+Vue完整启动指南.md)

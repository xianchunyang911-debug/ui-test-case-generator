# CSV格式UI走查用例生成规范

## 目标要求
当用户请求生成UI走查用例时，直接创建CSV格式的用例文档，并将CSV文件存放在/Users/macbook/Desktop/1移动云/UI走查用例/UI用例目录下。

## CSV格式规范

### 文件命名规范
- 文件名格式：`{页面或模块名称}-UI走查用例-{序号}.csv`
- 存放目录：`/Users/macbook/Desktop/1移动云/UI走查用例/UI用例`
- 示例：`/Users/macbook/Desktop/1移动云/UI走查用例/UI用例/登录页面-UI走查用例-1.csv`

### CSV文件结构
CSV文件包含一个UI走查用例清单，使用UTF-8编码，以逗号作为分隔符。

### UI走查用例清单列结构
| 列名 | 说明 | 必填 |
|------|------|------|
| 用例编号 | UI-TC001、UI-TC002格式 | 是 |
| 页面/模块 | 所属页面或UI模块名称 | 是 |
| 检查点 | 具体的设计元素或组件 | 是 |
| 设计原则 | 具体的设计方法与原则 | 是 |
| 检查项 | 描述具体的检查内容 | 是 |
| 优先级 | 高/中/低 | 是 |
| 预期结果/设计标准 | 设计稿中的具体规范或期望表现 | 是 |
| 实际结果 | 实际执行后的结果 | 否 |
| 截图/备注 | 用于辅助说明的截图或备注信息 | 否 |

## UI走查设计方法与原则
UI走查的核心是确保最终实现与设计稿在视觉和体验上的一致性。以下是进行UI走查时必须应用的设计原则，结合了UI设计原则和功能测试方法：

1.  **视觉一致性原则 (Visual Consistency)**：
    *   **目的**：确保整个产品的视觉语言统一，符合品牌规范。
    *   **检查项**：
        *   **颜色**：主色、辅助色、背景色、字体颜色是否与设计规范一致。
        *   **字体**：字体类型、字号、字重、行高是否统一。
        *   **图标**：图标风格、尺寸、颜色是否一致。
        *   **间距**：元素之间的间距、边距是否符合设计规范。

2.  **布局与响应式原则 (Layout & Responsiveness)**：
    *   **目的**：保证页面在不同尺寸的屏幕和设备上都能良好地展示。
    *   **检查项**：
        *   **对齐**：页面元素是否按网格系统对齐。
        *   **响应式**：在桌面、平板、移动设备等不同断点下，布局是否会自动调整且无错乱。
        *   **内容截断**：当内容过长时，是否有点点点(...)或其他截断处理。

3.  **组件状态完整性原则 (Component State Integrity)**：
    *   **目的**：验证所有可交互组件在不同状态下的视觉表现是否清晰、正确。
    *   **检查项**：
        *   **按钮**：检查默认 (Default)、悬停 (Hover)、点击 (Active/Pressed)、禁用 (Disabled)、加载中 (Loading) 状态。
        *   **输入框**：检查占位符 (Placeholder)、已输入 (Filled)、聚焦 (Focused)、错误 (Error)、禁用 (Disabled) 状态。
        *   **链接**：检查默认 (Default)、已访问 (Visited)、悬停 (Hover) 状态。

4.  **内容与文案准确性原则 (Content & Copy Accuracy)**:
    *   **目的**：确保界面上的所有文本信息清晰、准确、无误。
    *   **检查项**：
        *   **错别字与语法**：检查所有静态文案是否有错别字或语法错误。
        *   **信息准确性**：检查标签、标题、提示信息是否准确描述其功能。
        *   **大小写与标点**：检查中英文大小写、标点符号使用是否规范。
        *   **专业术语解释**：所有专业词语都有相应的解释说明，确保用户理解界面内容。

5.  **交互与反馈原则 (Interaction & Feedback)**:
    *   **目的**：确保用户的操作能得到及时、明确的系统反馈，提升体验流畅性。
    *   **检查项**：
        *   **加载状态**：数据加载时是否有加载动画 (Spinner/Skeleton Screen)。
        *   **操作反馈**：操作成功、失败、警告时是否有相应的提示 (Toast/Modal/Alert)。
        *   **操作结果反馈**：创建任务后立即显示成功提示，告知用户操作结果。
        *   **过渡动画**：页面切换、元素显隐是否有平滑的过渡效果。

6.  **可访问性与可用性原则 (Accessibility & Usability)**：
    *   **目的**：让产品能被更广泛的用户群体（包括有特殊需求的用户）轻松使用。
    *   **检查项**：
        *   **键盘导航**：是否能仅通过键盘 (Tab, Enter, Space) 完成主要操作。
        *   **焦点指示**：当前获得焦点的元素是否有清晰的视觉指示（如轮廓线）。
        *   **颜色对比度**：文本与背景的颜色对比度是否满足WCAG标准，以保证可读性。
        *   **点击区域**：按钮和链接的点击区域是否足够大，易于点击。

7.  **场景法 (Scenario Testing)**：
    *   **目的**：模拟用户真实、连贯的操作流程，验证UI在完整任务场景下的连贯性、流畅性和逻辑性。
    *   **检查项**：
        *   **正常场景**：走查核心业务流程，确保从开始到结束的UI跳转、数据传递和状态变更是无缝且正确的。
        *   **分支场景**：覆盖用户可能选择的不同路径，例如“保存并退出”与“直接退出”。
        *   **跨页面交互**：当一个操作涉及多个页面时，检查页面间的UI状态同步和信息一致性。

8.  **异常与负向流程验证 (Exception & Negative Flow Verification)**:
    *   **目的**：主动验证系统在非正常情况下的UI表现，确保应用在面对错误和异常时依然优雅、健壮。
    *   **检查项**：
        *   **输入验证**：当用户输入无效数据（如格式错误、内容为空）时，UI是否有清晰的错误提示。
        *   **操作失败**：当保存、提交、加载等操作失败时，系统是否有明确的失败反馈和下一步操作指引。
        *   **空状态**：列表、搜索结果为空时，页面是否提供了友好的空状态提示。
        *   **边界条件**：检查在达到最大限制（如最大字符数、最大上传文件数）时的UI表现。
        *   **数据保护提示**：信息填写到一半返回时，是否有明确的提示"正在填写若返回数据不会保存"。
        *   **删除确认机制**：所有删除操作都有二次确认对话框，防止误删重要数据。
        *   **失败原因展示**：任务失败时支持查看详细的原因日志，帮助用户理解问题所在。
        *   **错误预防与处理**：每一步操作都要核实是否会有报错，并设计相应的错误处理机制。
        *   **功能兼容性验证**：新增功能是否会影响原有功能，检查是否涉及原有模块页面的变动。
        *   **上下游模块验证**：验证新增模块与上游模块（依赖模块）和下游模块（被影响模块）的UI交互是否正确：
            *   **上游模块验证**：检查依赖模块的UI元素是否正确集成到新模块中（如导航菜单、数据选择器、跳转链接等）
            *   **下游模块验证**：检查新模块的UI变更是否影响下游模块的显示和功能（如新增Tab、复用页面等）
            *   **数据传递验证**：检查模块间跳转时的数据传递和UI状态同步是否正确
            *   **权限控制验证**：检查白名单等权限控制机制在UI层面的表现是否正确
    *   **功能测试方法应用**：
        *   **错误推测法**：基于历史缺陷和用户习惯，推测UI可能出现的错误场景
            *   **重复操作**：快速连续点击按钮，检查防抖机制和UI响应
            *   **异常输入**：输入特殊字符、超长文本、空值，检查输入验证和错误提示
            *   **网络异常**：模拟网络中断，检查离线状态UI表现和重试机制
            *   **并发操作**：同时进行多个操作，检查UI状态同步和冲突处理
        *   **因果图法**：分析输入条件与UI反馈的因果关系，设计组合测试场景
            *   **条件组合**：登录状态+权限级别+数据加载状态对UI显示的影响
            *   **时序关系**：操作顺序对UI状态变化的时序要求验证
            *   **约束分析**：互斥UI状态（如编辑态和查看态）的约束关系
        *   **场景法增强**：在原有场景法基础上增加异常路径验证
            *   **异常分支**：操作失败时的错误恢复路径UI验证
            *   **边界场景**：数据量达到边界值时的UI性能表现
            *   **恢复流程**：从异常状态恢复到正常状态的UI流程验证

## 设计方法应用示例
以"跨域训练任务创建"页面为例，展示如何应用多种UI走查设计原则：

### 视觉一致性原则应用
- **颜色检查**：主按钮颜色是否为品牌主色#1890FF，错误提示颜色是否为#FF4D4F
- **字体检查**：标题字号是否为16px，正文字号为14px，行高是否为1.5倍
- **图标检查**：所有操作图标尺寸是否为16x16px，风格是否统一
- **间距检查**：表单项之间的间距是否为24px，按钮内边距是否为8px 16px

### 组件状态完整性原则应用
- **按钮状态**：检查"立即训练"按钮的默认、悬停、点击、禁用、加载中状态
- **输入框状态**：检查"训练任务名称"输入框的占位符、已输入、聚焦、错误、禁用状态
- **下拉选择状态**：检查"选择模型"下拉框的默认、展开、选中、禁用状态

### 布局与响应式原则应用
- **对齐检查**：表单标签是否左对齐，输入框是否按网格系统对齐
- **响应式检查**：在1920px、1366px、1024px等不同屏幕宽度下，布局是否自适应
- **内容截断**：任务名称过长时是否显示省略号，鼠标悬停是否显示完整名称

### 交互与反馈原则应用
- **加载状态**：创建任务时是否有加载动画，任务列表加载时是否有骨架屏
- **操作反馈**：任务创建成功后是否显示Toast提示，创建失败是否显示错误提示
- **过渡动画**：页面切换是否有淡入淡出效果，按钮点击是否有按压反馈

### 异常与负向流程验证应用
- **输入验证**：训练任务名称为空时是否显示"请输入训练任务名称"错误提示
- **边界条件**：训练迭代次数输入1001时是否提示"请输入1-1000之间的数字"
- **操作失败**：网络异常导致创建失败时，是否显示错误提示和重试按钮
- **数据保护**：填写表单到一半点击返回时，是否提示"正在填写若返回数据不会保存"

### 场景法应用
- **正常场景**：完整创建跨域训练任务的流程，从填写表单到任务创建成功
- **分支场景**：选择不同清理策略（运行实例/全部实例/不清理）的UI表现
- **跨页面交互**：从任务列表点击查看详情，再返回列表，UI状态是否保持一致

## 生成要求

### 必须要求
1. **直接生成**：直接使用`write`工具创建CSV格式UI走查用例文件
2. **目录位置**：CSV文件必须存放在`/Users/macbook/Desktop/1移动云/UI走查用例/UI用例`目录下
3. **数据完整性**：CSV文件必须包含所有必要的列和数据
4. **格式规范**：严格按照CSV格式要求创建文件，UTF-8编码，逗号分隔

### 数据生成规则
- 根据需求文档和设计稿直接生成CSV UI走查用例数据
- 页面/模块根据需求文档的章节结构或设计稿的页面结构确定
- 检查点基于具体的设计元素或组件（如按钮、输入框、列表等）
- 设计原则从8大UI走查原则中选择最相关的一个或多个
- 用例编号格式：UI-TC001、UI-TC002、UI-TC003按顺序递增
- 检查项描述清晰、具体，便于执行验证
- 预期结果/设计标准明确且可验证，引用设计规范的具体数值或标准
- CSV文件中包含换行和特殊字符的内容需要用双引号包围并转义处理

## 走查方法

UI走查采用**两种方式相结合**的方法：

### 方式一：按点走查（用例走查）
按照UI走查用例清单，逐条检查每个UI元素和检查点，确保所有UI元素都被检查到位，无遗漏。

### 方式二：按流程走查（场景走查）
模拟真实用户操作流程，按照业务流程进行端到端走查，验证整体用户体验的连贯性、流畅性和逻辑性。

**两种方式的结合使用**：
1. **先按流程走查**：快速验证核心流程的完整性和流畅性，发现明显的体验问题
2. **再按点走查**：系统性地检查每个UI元素，确保无遗漏
3. **最后流程验证**：修复问题后，再次按流程走查，验证整体体验

**流程走查检查要点**：
- 页面跳转是否流畅，是否有过渡动画，数据是否正确传递
- 跨页面的状态是否同步（如主任务状态与子任务状态）
- 页面间数据传递是否正确，返回时状态是否保持
- 每个操作是否有及时、明确的反馈
- 异常情况下的UI表现是否友好
- 整个流程中的视觉风格是否统一

## UI走查计划生成

### 计划文档生成
当用户请求生成UI走查计划时，应基于`UI走查计划模板.md`生成具体的走查计划文档。

### 生成规则
1. **读取模板**：读取`UI走查计划模板.md`作为基础模板
2. **分析需求文档**：从需求文档中提取以下信息：
   - 功能名称：从需求文档标题或第一段提取
   - 功能模块：根据需求文档的章节结构识别功能模块
   - 核心流程：从需求文档和流程图中提取业务流程
   - 上下游关系：识别依赖模块和被影响模块
3. **填充模板**：将提取的信息填充到模板的占位符中
4. **生成文件**：创建`{功能名称}-UI走查计划.md`文件，保存到`/Users/macbook/Desktop/1移动云/UI走查用例/`目录

### 模板占位符替换规则
- `{功能名称}`：从需求文档标题提取
- `{模块数量}`：统计识别的功能模块数量
- `{用例数量}`：统计生成的UI走查用例数量（在生成用例后更新）
- `{模块名称N}`：从需求文档章节结构提取
- `{页面/功能描述N}`：从需求文档功能描述提取
- `{所属系统/平台}`：从需求文档中提取系统名称
- `{模块位置}`：从需求文档中提取模块位置信息

## 工作流程（5步法）
1.  **深度理解设计稿**：熟悉UI设计稿、交互说明和视觉规范，识别关键业务流程和用户场景。
2.  **应用设计原则**：结合8大UI走查原则，系统性地设计检查点：
    *   **基础原则应用**：应用视觉一致性、布局响应式等基础UI原则
    *   **功能测试方法整合**：结合场景法、错误推测法、因果图法，设计异常和边界场景检查点
3.  **准备数据**：将检查项整理为CSV格式数据，确保覆盖正常流程、异常场景和边界条件。
4.  **创建CSV**：直接调用`write`工具创建CSV文件，并保存到`/Users/macbook/Desktop/1移动云/UI走查用例/UI用例`目录。
5.  **验证结果**：确保CSV文件格式正确，且覆盖所有关键UI元素和状态，包括功能测试场景。

## 使用工具
使用`write`工具来创建CSV文件：
- 使用`write`工具创建CSV格式的UI走查用例文件
- 确保CSV文件路径使用正确的绝对路径格式
- 检查项描述清晰具体，便于执行验证
- 注意CSV格式中的换行符和特殊字符转义
- 预期结果/设计标准引用设计规范的具体数值或标准

## 验收标准

### 基本质量要求
1. 文件能正常用Excel/文本编辑器打开，无格式错误
2. 包含完整的UI走查用例信息
3. 格式规范，易于阅读和编辑
4. 支持后续的UI走查执行跟踪
5. UI走查用例覆盖设计稿中的所有核心页面和组件
6. 用例编号、页面/模块、检查点、设计原则、检查项、预期结果等字段完整填写

### UI走查用例质量标准
- **独立性**：每个UI走查用例应该独立执行，不依赖其他用例的结果
- **可重复性**：UI走查用例应该能够重复执行并得到一致的结果
- **可验证性**：预期结果/设计标准必须是具体且可验证的（如具体的颜色值、字号、间距等）
- **清晰性**：检查项和预期结果描述清晰，无歧义
- **完整性**：UI走查用例包含执行所需的所有信息
- **覆盖性**：覆盖所有关键UI元素、组件状态、交互场景和异常流程

## 注意事项
1. **CSV格式优先**：严格按照CSV格式输出，不生成Markdown文件
2. **工具依赖**：使用`write`工具进行CSV文件操作
3. **路径规范**：使用正确的绝对路径格式，确保文件正确存放在UI用例目录
4. **数据格式**：检查项描述清晰具体，便于执行验证
5. **编码规范**：使用UTF-8编码，确保中文字符正确显示
6. **字符转义**：CSV文件中包含逗号、双引号、换行符的内容需要用双引号包围并转义
7. **列结构固定**：保持9列结构（用例编号、页面/模块、检查点、设计原则、检查项、优先级、预期结果/设计标准、实际结果、截图/备注）
8. **覆盖率优先**：优先保证UI走查覆盖率，确保设计稿中的所有关键元素和状态都被检查
9. **设计标准引用**：预期结果/设计标准应引用设计规范的具体数值（如颜色值#1890FF、字号14px、间距24px等），而非模糊描述
10. **状态完整性**：确保所有可交互组件的不同状态（默认、悬停、点击、禁用、加载中等）都有对应的检查用例